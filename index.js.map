{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = \"46865368-ded5de9c0791206e82b93b274\";\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\n    const params = new URLSearchParams({\n      key: API_KEY,\n      q: '',\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      per_page: 12,\n    });\n    \n    const fetchImages = (query) => {\n        params.set('q', query);\n      \n        return fetch(`https://pixabay.com/api/?${params}`)\n          .then((response) => {\n            if (!response.ok) {\n              throw new Error(response.status);\n            }\n      \n            return response.json();\n          })\n          .then((response) => {\n            if (response.hits.length === 0) {\n              throw new Error('Sorry, there are no images matching your search query. Please try again!');\n            }\n      \n            return response.hits.map(hit => ({\n              webformatURL: hit.webformatURL,\n              largeImageURL: hit.largeImageURL,\n              tags: hit.tags,\n              likes: hit.likes,\n              views: hit.views,\n              comments: hit.comments,\n              downloads: hit.downloads,\n            }));\n          })\n          .catch((error) => {throw error});\n      };\n      \n      export { fetchImages };\n\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst getGalleryItem = ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n      <div class=\"gallery-img-info\">\n         <p class=\"info-item-title\"><b>Likes</b>${likes}</p>\n          <p class=\"info-item-title\"><b>Views</b>${views}</p>\n          <p class=\"info-item-title\"><b>Comments</b>${comments}</p>\n          <p class=\"info-item-title\"><b>Downloads</b>${downloads}</p>\n         \n        </div>\n    </a>\n  </li>`;\n  };\n  \n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n    animationSpeed: 300,\n    overlay: true,\n    overlayOpacity: 0.5,\n  });\n  \n  lightbox.on('show.simplelightbox', function () {\n  });\n  \n  lightbox.on('closed.simplelightbox', function () {\n  });\n  \n  const renderImages = (gallery, images) => {\n    gallery.innerHTML = images.map(image => getGalleryItem(image)).join('');\n    lightbox.refresh();\n  };\n  \n  export {renderImages};","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\nconst input = document.querySelector('.text-input');\nconst loaderContainer = document.querySelector('.loader-container');\n\nconst showMessage = (type, title, message) => {\n    iziToast[type]({\n      title,\n      message,\n      timeout: 2500,\n      progressBar: false,\n      position: 'center'\n    });\n  };\n  \n  const errorMessage = (message, title = '') => {\n    showMessage('error', title, message);\n  };\n  \n  const successMessage = (message, title = '') => {\n    showMessage('success', title, message);\n  };\n\nfunction showLoader() {\n    loaderContainer.style.display = 'flex';\n  }\n  \n  function hideLoader() {\n    loaderContainer.style.display = 'none';\n  }\n\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    const query = input.value.trim();\n    if (query.length === 0) {\n        return;\n      }\n  \n    if (!query) {\n      iziToast.warning({\n        title: 'Warning',\n        message: 'Please enter a search query!',\n        position: 'topRight'\n      });\n      return;\n    }\n\n\n  showLoader();\n    fetchImages(query)\n    .then(images => {\n        renderImages(gallery, images);\n        hideLoader();\n      })\n      .catch((error) => {\n        errorMessage(error.message);\n        hideLoader();\n        gallery.innerHTML = '';\n      });\n  });\n   \n\n\n"],"names":["API_KEY","params","fetchImages","query","response","hit","error","getGalleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","renderImages","gallery","images","image","form","input","loaderContainer","showMessage","type","title","message","iziToast","errorMessage","showLoader","hideLoader","event"],"mappings":"6vBAAA,MAAMA,EAAU,qCAINC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EAChB,CAAK,EAEKE,EAAeC,IACjBF,EAAO,IAAI,IAAKE,CAAK,EAEd,MAAM,4BAA4BF,CAAM,EAAE,EAC9C,KAAMG,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MAC5B,CAAW,EACA,KAAMA,GAAa,CAClB,GAAIA,EAAS,KAAK,SAAW,EAC3B,MAAM,IAAI,MAAM,0EAA0E,EAG5F,OAAOA,EAAS,KAAK,IAAIC,IAAQ,CAC/B,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,CACd,CAAW,EACA,MAAOC,GAAU,CAAC,MAAMA,CAAK,CAAC,GCpCnCC,EAAiB,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC1E;AAAA,oCACyBL,CAAa;AAAA,sCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA,kDAEdC,CAAK;AAAA,mDACJC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAOxDC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,IAChB,QAAS,GACT,eAAgB,EACpB,CAAG,EAEDD,EAAS,GAAG,sBAAuB,UAAY,CACjD,CAAG,EAEDA,EAAS,GAAG,wBAAyB,UAAY,CACnD,CAAG,EAED,MAAME,EAAe,CAACC,EAASC,IAAW,CACxCD,EAAQ,UAAYC,EAAO,IAAIC,GAASb,EAAea,CAAK,CAAC,EAAE,KAAK,EAAE,EACtEL,EAAS,QAAO,CACjB,EC/BGM,EAAO,SAAS,cAAc,cAAc,EACnC,SAAS,cAAc,SAAS,EAC/C,MAAMH,EAAU,SAAS,cAAc,UAAU,EAC3CI,EAAQ,SAAS,cAAc,aAAa,EAC5CC,EAAkB,SAAS,cAAc,mBAAmB,EAE5DC,EAAc,CAACC,EAAMC,EAAOC,IAAY,CAC1CC,EAASH,CAAI,EAAE,CACb,MAAAC,EACA,QAAAC,EACA,QAAS,KACT,YAAa,GACb,SAAU,QAChB,CAAK,CACL,EAEQE,EAAe,CAACF,EAASD,EAAQ,KAAO,CAC5CF,EAAY,QAASE,EAAOC,CAAO,CACvC,EAMA,SAASG,GAAa,CAClBP,EAAgB,MAAM,QAAU,MACjC,CAED,SAASQ,GAAa,CACpBR,EAAgB,MAAM,QAAU,MACjC,CAGHF,EAAK,iBAAiB,SAAWW,GAAU,CACvCA,EAAM,eAAc,EAEpB,MAAM7B,EAAQmB,EAAM,MAAM,KAAI,EAC9B,GAAInB,EAAM,SAAW,EAIrB,IAAI,CAACA,EAAO,CACVyB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,+BACT,SAAU,UAClB,CAAO,EACD,MACD,CAGHE,IACE5B,EAAYC,CAAK,EAChB,KAAKgB,GAAU,CACZF,EAAaC,EAASC,CAAM,EAC5BY,GACR,CAAO,EACA,MAAOzB,GAAU,CAChBuB,EAAavB,EAAM,OAAO,EAC1ByB,IACAb,EAAQ,UAAY,EAC5B,CAAO,EACP,CAAG"}